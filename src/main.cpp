/**
 * @mainpage Тетрис - Консольная игра на C++
 * 
 * @section intro Введение
 * 
 * Это реализация классической игры Тетрис для терминала Linux/Unix.
 * Игра поддерживает несколько режимов:
 * - Классический Тетрис
 * - Тетрис в форме ведра
 * - Режим "Собери картинку"
 * 
 * @section features Особенности
 * 
 * - Цветная графика в терминале
 * - Настраиваемое управление
 * - Система рекордов с сохранением в файл
 * - Режим паузы и меню настроек
 * - Поддержка установки зерна рандомизации для воспроизводимости
 *
 * Игра поддерживает запуск с параметром для установки зерна рандомизации:
 * - Без аргументов: используется текущее время в качестве seed
 * - С числовым аргументом: используется указанное число в качестве seed

 * @section controls Управление
 * 
 * По умолчанию используется следующее управление:
 * - A / D или ← / → — движение влево/вправо
 * - S или ↓ — вниз
 * - W или ↑ - мгновенный сброс
 * - Пробел - поворот
 * - E - пауза
 * - Q - выход
 * 
 * Все клавиши можно переназначить в настройках.
 * 
 * @section building Компиляция
 * 
 * Для компиляции используйте:
 * @code{.sh}
 * git clone https://github.com/Olesya077/TETRIS
 * cd TETRIS
 * cd build
 * cmake ..
 * make
 * @endcode
 * 
 * @section running Запуск
 * 
 * Для запуска:
 * @code{.sh}
 * ./tetris_game
 * @endcode
 * 
 * Для воспроизводимой последовательности фигур:
 * @code{.sh}
 * ./tetris_game 12345  # Фиксированный seed
 * @endcode
 * 
 * @note Требуется терминал минимум 24x80 символов для корректного отображения.
 * 
 * @date 2025
 * @version 1.0
 */

 /**
 * @file main.cpp
 * @brief Главный файл приложения Тетрис
 * @details Содержит точку входа в программу и обработку аргументов командной строки для установки зерна рандомизации.
 */
#include "GameController.h"
#include <iostream>

/**
 * @brief Точка входа в программу
 * 
 * Инициализирует генератор случайных чисел и запускает игровой контроллер.
 * Поддерживает аргумент командной строки для установки зерна рандомизации.
 * 
 * @param argc Количество аргументов командной строки
 * @param argv Массив аргументов командной строки
 * @return 0 при успешном завершении
 * 
 * @section command_line_args Аргументы командной строки
 * 
 * Игра поддерживает один опциональный числовой аргумент, который используется
 * в качестве зерна для генератора псевдослучайных чисел. Это позволяет
 * воспроизводить одинаковую последовательность фигур при разных запусках.
 * 
 * Примеры использования:
 * - @c ./tetris_game             # Использует текущее время как seed
 * - @c ./tetris_game 42          # Использует 42 как seed (фиксированная последовательность)
 * - @c ./tetris_game 123456789   # Другой фиксированный seed
 * 
 * @note Если аргумент не является числом, он будет проигнорирован и использовано
 *       текущее время в качестве seed.
 */
int main(int argc, char* argv[]) {
    /**
     * @section random_seed Инициализация генератора случайных чисел
     * 
     * Генератор случайных чисел инициализируется одним из двух способов:
     * 1. Если передан аргумент командной строки: используется как seed
     * 2. Если аргументов нет: используется текущее время (time(NULL))
     * 
     * Это обеспечивает либо воспроизводимость (с фиксированным seed), либо
     * случайность (с seed от времени) в разных игровых сессиях.
     */
    if (argc > 1) {
        int seed = std::atoi(argv[1]);
        srand(seed);
        std::cout << "Используется seed: " << seed << std::endl;
    } else {
        srand(time(NULL));
    }
    
    GameController controller;    
    controller.run();
    
    return 0;
}