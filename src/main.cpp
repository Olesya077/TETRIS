/**
 * @mainpage Тетрис - Консольная игра на C++
 * 
 * @section intro Введение
 * 
 * Это реализация классической игры Тетрис для терминала Linux/Unix.
 * Игра поддерживает несколько режимов:
 * - Классический Тетрис
 * - Тетрис в форме ведра
 * - Режим "Собери картинку"
 * 
 * @section features Особенности
 * 
 * - Цветная графика в терминале
 * - Настраиваемое управление
 *- Система рекордов с сохранением в файл
 *- Режим паузы и меню настроек
 *
* Игра поддерживает запуск с параметрами для выбора режима последовательности фигур:
* - Без аргументов: стандартный режим (случайные фигуры)
* - Аргумент "1": режим "только квадраты" (только фигуры O)
* - Аргумент "2": режим "чередование" (фигуры по порядку) 

 * @section controls Управление
 * 
 * По умолчанию используется следующее управление:
 * - A / D или ← / → — движение влево/вправо
 * - S или ↓ — вниз
 * - W или ↑ - мгновенный сброс
 * - Пробел - поворот
 * - E - пауза
 * - Q - выход
 * 
 * Все клавиши можно переназначить в настройках.
 * 
 * @section building Компиляция
 * 
 * Для компиляции используйте:
 * @code{.sh}
 * cd TETRIS
 * cd build
 * cmake ..
 * make
 * @endcode
 * 
 * @section running Запуск
 * 
 * Для запуска:
 * @code{.sh}
 * ./tetris_game
 * @endcode
 * 
 * @note Требуется терминал минимум 24x80 символов для корректного отображения.
 * 
 * @date 2025
 * @version 1.0
 */

#include "GameController.h"
#include <iostream>

/**
 * @brief Точка входа в программу
 * 
 * Инициализирует генератор случайных чисел и запускает игровой контроллер.
 * @return 0 при успешном завершении
 */
int main(int argc, char* argv[]) {
    srand(time(NULL));
    GameController controller;
    /**
     * @section Поддержка аргументов командной строки
     * 
     * Игра поддерживает запуск с параметрами для выбора режима последовательности фигур:
     * - Без аргументов: стандартный режим (случайные фигуры)
     * - Аргумент "1": режим "только квадраты" (только фигуры O)
     * - Аргумент "2": режим "чередование" (фигуры по порядку)
     * 
     * @example Примеры запуска:
     *   ./tetris           # Случайные фигуры (стандартный режим)
     *   ./tetris 1         # Только квадратные фигуры
     *   ./tetris 2         # Чередование фигур по порядку
     */
    if (argc > 1) {
    if (std::string(argv[1]) == "1") {
        controller.setSequenceMode(1);
    } 
    else if (std::string(argv[1]) == "2") {
        controller.setSequenceMode(2);
    }
}
    
    controller.run();
    
    return 0;
}